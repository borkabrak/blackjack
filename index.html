<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <title>Blackjack</title>
    <link rel="stylesheet" href="/script/twitter-bootstrap/css/bootstrap.css">
    <link rel="stylesheet" href="blackjack.css">
    <script src="card.js"></script>
    <script src="deck.js"></script>
    <script src="/script/jquery/jquery.js"></script>
  </head>

  <body>

    <h1>Blackjack</h1>

    <p>
      So let's see what it's like to implement a Blackjack table.  Enjoy.
    </p>

    <button id="draw-card">Draw a card</button>

    <div class="table">
      <div id="table"  class="deck"></div>
      <div id="player" class="deck"></div>
      <div id="score"></div>
    </div>

    <script>

      // Create and initialize the table deck with a full set of cards.
      var table = new Deck("Table", "#table");
      var ranks = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13];
      var suits = ["Spades", "Hearts", "Diamonds", "Clubs"];
      for (suit in suits){
        for (rank in ranks){
          table.push(new Card(this.ranks[rank], this.suits[suit]));
        }
      }
      table.show();

      // Create the player's deck
      var player = new Deck("Player", "#player");

      // Make buttons work
      $("#draw-card").on('click', 
      function(event){
        player.push(table.draw().flip());
        player.show();
        $("#score").html("Score: " + player.score());
      });

    </script>

  </body>

</html>
